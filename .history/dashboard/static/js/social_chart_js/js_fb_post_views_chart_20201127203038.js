function fb_post_views_chart() {
    chart_data={"data": true, "x_axis_data": ["post 1", "post 2", "post 3", "post 4", "post 5", "post 6", "post 7", "post 8", "post 9", "post 10"], "description": ["Tucked away in a scenic section of southeastern King County, Ten Trails is located close to outdoor recreation hotspots as well as some lesser known but still notable area attractions! Read more on our website:\\n\\nhttp://www.tentrails.com/explore-southeastern-king-countys-off-the-beaten-path-attractions-this-summer/", "So much is changing daily in the world and we wanted to let you know we are still here to help you with your home-buying experience. Check out our website today to see a few ways Ten Trails is here to assist in your home search!\\n\\nhttp://www.tentrails.com/stay-healthy-and-happy-while-shopping-for-your-dream-home-from-home/", "It's time for our weekly photo and video contest!\\n\\n\\xf0\\x9f\\x91\\x89 This week's contest category: Show us your photos or videos from your at-home game or puzzle time! \\n\\nSubmit your entries in the comments below for a chance to win at $50 gift card to Uber Eats, Grubhub or a local restaurant that offers takeout options.\\n\\nA big congratulations to Susie Donato for winning last week's chalk art photo/video challenge!\\n\\nThanks to all who participated! We \\xe2\\x9d\\xa4\\xef\\xb8\\x8f seeing what you have been sharing about how you are spending time at home! \\xf0\\x9f\\x8f\\xa1", "New photo/video contest alert! \\xf0\\x9f\\x93\\xa3\\n\\nThis week\\'s contest category: Show us your family\\'s best dance moves or musical talents! \\n\\nSubmit your video entries in the comments below no later than next Tuesday, May 5th!\\n\\nAnd a huge congratulations to Jacki Beem for winning last week\\'s contest with her family\\'s adorable \"Ten Trails Derby\" video! \\n\\nAs a reminder, each week the contest WINNER receives a $50 gift card to Uber Eats, Grubhub or $50 to spend on takeout at a local restaurant!\\n\\nWe can\\'t wait to see all your entries! \\xf0\\x9f\\x98\\x81", "Congratulations to Melanie Woods for winning Week 1 of our ongoing photo/video contest with her funny #WFH pic of her cat in her inbox. \\xf0\\x9f\\x98\\x82\\n\\nThis week we want to see your Easter or springtime indoor or outdoor decorations! \\n\\nPost pics or video of your decorations, gardens or other d\\xc3\\xa9cor in the comments below for a chance to win a $50 gift card to a local restaurant or delivery to your home from Door Dash or Uber Eats! \\n\\nThe winner of this week\\xe2\\x80\\x99s category will be announced next Wednesday along with the new category!\\nGood luck and we can\\xe2\\x80\\x99t wait to see your entries!", "At Ten Trails, we have a wide variety of new homes for purchase, ranging in price from the $300's to $700's, and from around 1,200 square feet to more than 4,000 square feet. No matter what stage of life you and your family are in, Ten Trails has a home that fits the way YOU want to live!\\n\\nRead more today on our website:\\n\\nhttp://www.tentrails.com/find-homes-designed-for-the-way-you-want-to-live-at-ten-trails/", "We couldn't pick a single winner from last week's Easter decor photo contest entries so we have a tie! \\n\\n\\xf0\\x9f\\x8e\\x89Congratulations to Kelli Ferguson for her Easter tablescape photo, and Krista Bates for her wreath picture!\\n\\n\\xf0\\x9f\\x91\\x89 New Contest Category for this Week:\\n\\nTake advantage of the sunshine this week for our new contest category: Show us your Sidewalk and/or Driveway Chalk Art. \\xe2\\x98\\x80\\xef\\xb8\\x8f\\xf0\\x9f\\x8e\\xa8\\n\\n\\xf0\\x9f\\x93\\xb7 Submissions can be photo or video format and should be posted in the comments to this post no later than April 21st...Discover your inner artist and get creative! \\n\\nFor those wanting to get a head start, the following week's contest category is listed below: \\n\\nApril 22 - April 28 Contest Category\\nShow us your family game or puzzle activity photos or videos", "We \\xe2\\x9d\\xa4\\xef\\xb8\\x8f our residents! \\n\\nWe are happy to introduce new residents, the Asantes! Heather, Imani and Emma moved to Ten Trails a few months ago from West Seattle and love their new lifestyle at Ten Trails!\\n\\nWelcome to the community, you three! We are so happy you chose Ten Trails for your new hometown!\\n\\nRead more about the Asantes today on our website:\\n\\nhttp://www.tentrails.com/meet-the-asante-family-new-residents-at-ten-trails-in-black-diamond-wa/", "Ten Trails is happy to introduce new neighbors, Justin and Kit Scott! This couple moved to the community last month from nearby Maple Valley and are in love with their new lifestyle in this growing master planned community!\\n\\nRead more about the Scotts today on our website:\\n\\nhttp://bit.ly/36Gwd5Y", "Local builder, Rudd, is now selling townhomes in the community priced from $349K!\\n\\nWe are just one week away from the grand opening of their new townhome model at Ten Trails, part of The Towns Collection.\\n\\nSave the date for the grand opening next Saturday, February 22nd from 10 am to 5 pm! We hope to see you there!"], "target_url": ["https://www.facebook.com/TenTrails/photos/a.175694766311650/664098620804593/?type=3", "https://www.facebook.com/TenTrails/photos/a.175694766311650/624612538086535/?type=3", "https://www.facebook.com/TenTrails/photos/a.175694766311650/634228877124901/?type=3", "https://www.facebook.com/TenTrails/photos/a.175694766311650/638390523375403/?type=3", "https://www.facebook.com/TenTrails/photos/a.175694766311650/625571597990629/?type=3", "https://www.facebook.com/TenTrails/photos/a.175694766311650/627545891126533/?type=3", "https://www.facebook.com/TenTrails/photos/a.175694766311650/629986027549186/?type=3", "https://www.facebook.com/TenTrails/photos/a.175694766311650/623941161487006/?type=3", "https://www.facebook.com/TenTrails/photos/a.175694766311650/585262472021542/?type=3", "https://www.facebook.com/TenTrails/photos/a.175694766311650/593943147820141/?type=3"], "unique_impressions": [81995, 69374, 69606, 55449, 52381, 29500, 47201, 40922, 20100, 33199], "total_impressions": [4280, 3144, 0, 5625, 7744, 20207, 1636, 15, 17405, 0], "paid_impressions": [85157, 71713, 68067, 60400, 58869, 48669, 48181, 39275, 36349, 31400], "total_impressions_tooltip": [86275, 72518, 68769, 61074, 60125, 49707, 48837, 40937, 37505, 32329]};

    //console.log(chart_data)
    try {
        var fb_post_views_dom = document.getElementById("fb_most_views_post_chart_container");
        var fb_post_views_chart_obj = echarts.init(fb_post_views_dom);

        var grid_size = [20, 40, 30, 50]
       /// ['#c5cbd4','#96a9c7']  total ,paid,uniq,,
        var color_set = ['#c5cbd4', '#96a9c7','#2a456c','#f4e2ad'];//['#8ab4f0', '#3289e8', '#3b5998'];   // Color set
        fb_post_views_option = {

            tooltip: {

                trigger: 'axis',
                axisPointer: {
                    type: 'shadow',
                    label: { show: true }
                },

                formatter: function (param) {
                    var unique_impressions_tooltip = '<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:#ddc26e;"></span>';
                    var total_impressions_tooltip = '<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:#c5cbd4;"></span>';
                    var paid_impressions_tooltip = '<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:#96a9c7;"></span>';

                    if (param.length >= 1) {
                        unique_impressions_count = ''
                        total_impressions_count = ''
                        paid_impressions_count = ''
                        x_axis_data = ''

                        chart_data={"data": true, "x_axis_data": ["post 1", "post 2", "post 3", "post 4", "post 5", "post 6", "post 7", "post 8", "post 9", "post 10"], "description": ["Tucked away in a scenic section of southeastern King County, Ten Trails is located close to outdoor recreation hotspots as well as some lesser known but still notable area attractions! Read more on our website:\\n\\nhttp://www.tentrails.com/explore-southeastern-king-countys-off-the-beaten-path-attractions-this-summer/", "So much is changing daily in the world and we wanted to let you know we are still here to help you with your home-buying experience. Check out our website today to see a few ways Ten Trails is here to assist in your home search!\\n\\nhttp://www.tentrails.com/stay-healthy-and-happy-while-shopping-for-your-dream-home-from-home/", "It's time for our weekly photo and video contest!\\n\\n\\xf0\\x9f\\x91\\x89 This week's contest category: Show us your photos or videos from your at-home game or puzzle time! \\n\\nSubmit your entries in the comments below for a chance to win at $50 gift card to Uber Eats, Grubhub or a local restaurant that offers takeout options.\\n\\nA big congratulations to Susie Donato for winning last week's chalk art photo/video challenge!\\n\\nThanks to all who participated! We \\xe2\\x9d\\xa4\\xef\\xb8\\x8f seeing what you have been sharing about how you are spending time at home! \\xf0\\x9f\\x8f\\xa1", "New photo/video contest alert! \\xf0\\x9f\\x93\\xa3\\n\\nThis week\\'s contest category: Show us your family\\'s best dance moves or musical talents! \\n\\nSubmit your video entries in the comments below no later than next Tuesday, May 5th!\\n\\nAnd a huge congratulations to Jacki Beem for winning last week\\'s contest with her family\\'s adorable \"Ten Trails Derby\" video! \\n\\nAs a reminder, each week the contest WINNER receives a $50 gift card to Uber Eats, Grubhub or $50 to spend on takeout at a local restaurant!\\n\\nWe can\\'t wait to see all your entries! \\xf0\\x9f\\x98\\x81", "Congratulations to Melanie Woods for winning Week 1 of our ongoing photo/video contest with her funny #WFH pic of her cat in her inbox. \\xf0\\x9f\\x98\\x82\\n\\nThis week we want to see your Easter or springtime indoor or outdoor decorations! \\n\\nPost pics or video of your decorations, gardens or other d\\xc3\\xa9cor in the comments below for a chance to win a $50 gift card to a local restaurant or delivery to your home from Door Dash or Uber Eats! \\n\\nThe winner of this week\\xe2\\x80\\x99s category will be announced next Wednesday along with the new category!\\nGood luck and we can\\xe2\\x80\\x99t wait to see your entries!", "At Ten Trails, we have a wide variety of new homes for purchase, ranging in price from the $300's to $700's, and from around 1,200 square feet to more than 4,000 square feet. No matter what stage of life you and your family are in, Ten Trails has a home that fits the way YOU want to live!\\n\\nRead more today on our website:\\n\\nhttp://www.tentrails.com/find-homes-designed-for-the-way-you-want-to-live-at-ten-trails/", "We couldn't pick a single winner from last week's Easter decor photo contest entries so we have a tie! \\n\\n\\xf0\\x9f\\x8e\\x89Congratulations to Kelli Ferguson for her Easter tablescape photo, and Krista Bates for her wreath picture!\\n\\n\\xf0\\x9f\\x91\\x89 New Contest Category for this Week:\\n\\nTake advantage of the sunshine this week for our new contest category: Show us your Sidewalk and/or Driveway Chalk Art. \\xe2\\x98\\x80\\xef\\xb8\\x8f\\xf0\\x9f\\x8e\\xa8\\n\\n\\xf0\\x9f\\x93\\xb7 Submissions can be photo or video format and should be posted in the comments to this post no later than April 21st...Discover your inner artist and get creative! \\n\\nFor those wanting to get a head start, the following week's contest category is listed below: \\n\\nApril 22 - April 28 Contest Category\\nShow us your family game or puzzle activity photos or videos", "We \\xe2\\x9d\\xa4\\xef\\xb8\\x8f our residents! \\n\\nWe are happy to introduce new residents, the Asantes! Heather, Imani and Emma moved to Ten Trails a few months ago from West Seattle and love their new lifestyle at Ten Trails!\\n\\nWelcome to the community, you three! We are so happy you chose Ten Trails for your new hometown!\\n\\nRead more about the Asantes today on our website:\\n\\nhttp://www.tentrails.com/meet-the-asante-family-new-residents-at-ten-trails-in-black-diamond-wa/", "Ten Trails is happy to introduce new neighbors, Justin and Kit Scott! This couple moved to the community last month from nearby Maple Valley and are in love with their new lifestyle in this growing master planned community!\\n\\nRead more about the Scotts today on our website:\\n\\nhttp://bit.ly/36Gwd5Y", "Local builder, Rudd, is now selling townhomes in the community priced from $349K!\\n\\nWe are just one week away from the grand opening of their new townhome model at Ten Trails, part of The Towns Collection.\\n\\nSave the date for the grand opening next Saturday, February 22nd from 10 am to 5 pm! We hope to see you there!"], "target_url": ["https://www.facebook.com/TenTrails/photos/a.175694766311650/664098620804593/?type=3", "https://www.facebook.com/TenTrails/photos/a.175694766311650/624612538086535/?type=3", "https://www.facebook.com/TenTrails/photos/a.175694766311650/634228877124901/?type=3", "https://www.facebook.com/TenTrails/photos/a.175694766311650/638390523375403/?type=3", "https://www.facebook.com/TenTrails/photos/a.175694766311650/625571597990629/?type=3", "https://www.facebook.com/TenTrails/photos/a.175694766311650/627545891126533/?type=3", "https://www.facebook.com/TenTrails/photos/a.175694766311650/629986027549186/?type=3", "https://www.facebook.com/TenTrails/photos/a.175694766311650/623941161487006/?type=3", "https://www.facebook.com/TenTrails/photos/a.175694766311650/585262472021542/?type=3", "https://www.facebook.com/TenTrails/photos/a.175694766311650/593943147820141/?type=3"], "unique_impressions": [81995, 69374, 69606, 55449, 52381, 29500, 47201, 40922, 20100, 33199], "total_impressions": [4280, 3144, 0, 5625, 7744, 20207, 1636, 15, 17405, 0], "paid_impressions": [85157, 71713, 68067, 60400, 58869, 48669, 48181, 39275, 36349, 31400], "total_impressions_tooltip": [86275, 72518, 68769, 61074, 60125, 49707, 48837, 40937, 37505, 32329]};
                       
                        for (i = 0; i < param.length; i++) {
                            // alert(param[i].seriesName);
                            if (param[i].seriesName == 'Unique Impressions') { var unique_impressions_count = unique_impressions_tooltip + param[i].seriesName + ": " + Number(param[i].value).toLocaleString('en-us') + "</br>"; }
                            else if (param[i].seriesName == 'Total Impressions') { var total_impressions_count = total_impressions_tooltip + param[i].seriesName + ": " + Number(chart_data['total_impressions_tooltip'][param[i]['dataIndex']]).toLocaleString('en-us') + "</br>"; }
                            else if (param[i].seriesName == 'Paid Impressions') { var paid_impressions_count = paid_impressions_tooltip + param[i].seriesName + ": " + Number(param[i].value).toLocaleString('en-us') + "</br>"; }
                            //var x_axis_data
                            post_desc = chart_data['description'];
                            for (j = 0; j <= post_desc.length; j++) {
                                if (j == param[i]['dataIndex']) {
                                    if (post_desc[j] == "") {
                                        x_axis_data = param[i]['axisValue'] + "</br>";
                                    } else {
                                        x_axis_data = post_desc[j].split(' ').slice(0, 3).join(" ") + "</br>";
                                    }
                                }
                            };
                        }
                        return x_axis_data + total_impressions_count + unique_impressions_count + paid_impressions_count
                    }
                },
            },
            grid: {
                top: grid_size[0],
                bottom: grid_size[1],
                right: grid_size[2],
                left: grid_size[3]
            },
            // legend: { right: '5%' },
            xAxis: [
                {
                    name: "Posts",
                    nameLocation: "center",
                    nameTextStyle: {
                        fontSize: 9,
                        padding: 15,
                    },
                    type: 'category',
                    boundaryGap: true,
                    axisTick: {
                        show: true,
                        alignWithLabel: true,
                    },
                    axisLabel: {
                        fontSize: 9, 
                        interval: 0,
                        padding: [0, 0, 0, 20]
                    },
                    axisLine: {
                        lineStyle: {
                            color: axis_color,
                            opacity: axis_opacity
                        }
                    },
                    data: chart_data['x_axis_data'],

                }
            ],
            yAxis: {
                name: 'Count',
                nameLocation: "center",
                nameTextStyle: {
                    fontSize: 9,
                    padding: 15,
                },
                type: 'value',
                splitLine: {
                    show: false
                },
                axisLabel: {
                    fontSize: 9,
                },
                axisLine: {
                    lineStyle: {
                        color: axis_color,
                        opacity: axis_opacity
                    }
                }
            },
            series: [
                {
                    name: 'Unique Impressions',
                    data: chart_data['unique_impressions'],
                    type: 'bar',
                    barWidth: 25,
                    stack: 'post',
                    itemStyle: {
                        normal: {
                            color: color_set[1]
                        }
                    },
                },
                {
                    name: 'Total Impressions',
                    data: chart_data['total_impressions'],
                    type: 'bar',
                    barWidth: 25,
                    stack: 'post',
                    itemStyle: {
                        normal: {
                            color: color_set[0]
                        }
                    },
                },

                {
                    name: 'Paid Impressions',
                    data: chart_data['paid_impressions'],
                    type: 'bar', 
                    barGap: '-60%',
                    barWidth: 5,
                    z: 10,
                    itemStyle: {
                        normal: {
                            color: color_set[2]
                        }
                    },
                },
            ]
        };

        if (fb_post_views_option && typeof fb_post_views_option === "object") {
            fb_post_views_chart_obj.setOption(fb_post_views_option, true);
            removeLoader("fb_most_views_post_chart_container")
        }
        $(window).on('resize', function () {
            fb_post_views_chart_obj.resize();
        })


        fb_post_views_chart_obj.setOption(Option);
        fb_post_views_chart_obj.off();
        fb_post_views_chart_obj.on('click', function (param) {
            target_url = chart_data['target_url']
            for (i = 0; i <= target_url.length; i++) {
                if (i == param['dataIndex']) {
                    if (target_url[i] == "") {
                        alert("No URL available for this Post")
                    } else {
                        window.open(
                            target_url[i]
                        );
                    }
                }
            }
        });

    }
    catch (e) { alert(e) }
}
